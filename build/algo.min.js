/*!*
 * algo.js
 *
 * JavaScript Creative Coding Framework
 * http://algojs.com
 *
 * Copyright 2015 hisa hayashi, HYS INC.
 */
var ALGO=function(){"use strict";function e(r){L=this,O=e.ObjectUtil.extend(param,r),t()}function t(){r(),n(),i()}function r(){L.width=param.width,L.height=param.height}function n(){L.render=new e.Render(L),L.render.setFramerate(L.framerate)}function o(){L.canvas=document.getElementById(O.id),L.canvas.width=O.width,L.canvas.height=O.height,L.renderer=new e.WebGLRenderer(L)}function i(){window.onload=function(){o(),L.setup&&L.setup.call(L)},window.onmouseover=function(){L.mouseover&&L.mouseover.call(L)},window.onmouseout=function(){L.mouseout&&L.mouseout.call(L)},window.onmousedown=function(){L.mousedown&&L.mousedown.call(L)},window.onmouseup=function(){L.mouseup&&L.mouseup.call(L)},window.onmousemove=function(){L.mousemove&&L.mousemove.call(L)},window.onkeydown=function(){L.keydown&&L.keydown.call(L)},window.onkeyup=function(){L.keyup&&L.keyup.call(L)},window.onresize=function(){L.resize&&L.resize.call(L),L.renderer&&L.renderer.resize()},L.render.startRender()}function a(e,t){this[e]=t,L[e]=this[e],L=this}function u(e,t){this[e]=t,L[e]=null}function c(){}function d(){}function s(){}function f(){}function l(){}function h(){}function p(){}function g(){}function v(){}function m(){}function A(){}function x(e,t){L.canvas.width=e,L.canvas.height=t,L.width=e,L.height=t}function y(e){e.add(L)}function w(e){e.remove(L)}var L,O={id:"",width:window.innerWidth,height:window.innerHeight};return e.prototype={constructor:e,setup:c,frame:d,destroy:s,mouseover:f,mouseout:l,mousedown:h,mouseup:p,mousemove:g,keydown:v,keyup:m,resize:A,bind:a,unbind:u,size:x,add:y,remove:w,render:null,renderer:null},e}();ALGO.Circle=function(){"use strict";return ALGO.Circle=function(){ALGO.log("ALGO.Circle")},ALGO.Circle.prototype={constructor:ALGO.Circle},ALGO.Circle}(),ALGO.ColorUtil={rgbToHex:function(e,t,r){e=Math.floor(e),t=Math.floor(t),r=Math.floor(r);var n=(e<<16)+(t<<8)+r;return"0x"+n.toString(16)},hexToRgb:function(e){e=e.toString(16).replace("#","").replace("0x",""),e="0x"+e;var t={r:e>>16,g:e>>8&255,b:255&e};return t},hexToRgbNormalize:function(e){var t=ALGO.ColorUtil.hexToRgb(e);return t.r=t.r/256,t.g=t.g/256,t.b=t.b/256,t}},ALGO.log=function(e){window.console&&window.console.log&&ALGO.debug&&window.console.log(e)},ALGO.warn=function(e){window.console&&window.console.warn&&ALGO.debug&&window.console.warn(e)},ALGO.error=function(e){window.console&&window.console.error&&ALGO.debug&&window.console.error(e)},ALGO.Matrix=function(e){"use strict";function t(){return new Float32Array(16)}function r(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function n(e,t,r){var n=e[0],o=e[1],i=e[2],a=e[3],u=e[4],c=e[5],d=e[6],s=e[7],f=e[8],l=e[9],h=e[10],p=e[11],g=e[12],v=e[13],m=e[14],A=e[15],x=t[0],y=t[1],w=t[2],L=t[3],O=t[4],_=t[5],G=t[6],b=t[7],R=t[8],M=t[9],S=t[10],E=t[11],F=t[12],C=t[13],T=t[14],k=t[15];return r[0]=x*n+y*u+w*f+L*g,r[1]=x*o+y*c+w*l+L*v,r[2]=x*i+y*d+w*h+L*m,r[3]=x*a+y*s+w*p+L*A,r[4]=O*n+_*u+G*f+b*g,r[5]=O*o+_*c+G*l+b*v,r[6]=O*i+_*d+G*h+b*m,r[7]=O*a+_*s+G*p+b*A,r[8]=R*n+M*u+S*f+E*g,r[9]=R*o+M*c+S*l+E*v,r[10]=R*i+M*d+S*h+E*m,r[11]=R*a+M*s+S*p+E*A,r[12]=F*n+C*u+T*f+k*g,r[13]=F*o+C*c+T*l+k*v,r[14]=F*i+C*d+T*h+k*m,r[15]=F*a+C*s+T*p+k*A,r}function o(e,t,r){return r[0]=e[0]*t[0],r[1]=e[1]*t[0],r[2]=e[2]*t[0],r[3]=e[3]*t[0],r[4]=e[4]*t[1],r[5]=e[5]*t[1],r[6]=e[6]*t[1],r[7]=e[7]*t[1],r[8]=e[8]*t[2],r[9]=e[9]*t[2],r[10]=e[10]*t[2],r[11]=e[11]*t[2],r[12]=e[12],r[13]=e[13],r[14]=e[14],r[15]=e[15],r}function i(e,t,r){return r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=e[3],r[4]=e[4],r[5]=e[5],r[6]=e[6],r[7]=e[7],r[8]=e[8],r[9]=e[9],r[10]=e[10],r[11]=e[11],r[12]=e[0]*t[0]+e[4]*t[1]+e[8]*t[2]+e[12],r[13]=e[1]*t[0]+e[5]*t[1]+e[9]*t[2]+e[13],r[14]=e[2]*t[0]+e[6]*t[1]+e[10]*t[2]+e[14],r[15]=e[3]*t[0]+e[7]*t[1]+e[11]*t[2]+e[15],r}function a(e,t,r,n){var o=Math.sqrt(r[0]*r[0]+r[1]*r[1]+r[2]*r[2]);if(!o)return null;var i=r[0],a=r[1],u=r[2];1!=o&&(o=1/o,i*=o,a*=o,u*=o);var c=Math.sin(t),d=Math.cos(t),s=1-d,f=e[0],l=e[1],h=e[2],p=e[3],g=e[4],v=e[5],m=e[6],A=e[7],x=e[8],y=e[9],w=e[10],L=e[11],O=i*i*s+d,_=a*i*s+u*c,G=u*i*s-a*c,b=i*a*s-u*c,R=a*a*s+d,M=u*a*s+i*c,S=i*u*s+a*c,E=a*u*s-i*c,F=u*u*s+d;return t?e!=n&&(n[12]=e[12],n[13]=e[13],n[14]=e[14],n[15]=e[15]):n=e,n[0]=f*O+g*_+x*G,n[1]=l*O+v*_+y*G,n[2]=h*O+m*_+w*G,n[3]=p*O+A*_+L*G,n[4]=f*b+g*R+x*M,n[5]=l*b+v*R+y*M,n[6]=h*b+m*R+w*M,n[7]=p*b+A*R+L*M,n[8]=f*S+g*E+x*F,n[9]=l*S+v*E+y*F,n[10]=h*S+m*E+w*F,n[11]=p*S+A*E+L*F,n}function u(e,t,n,o){var i=e[0],a=e[1],u=e[2],c=n[0],d=n[1],s=n[2],f=t[0],l=t[1],h=t[2];if(i==f&&a==l&&u==h)return r(o);var p,g,v,m,A,x,y,w,L,O;return y=i-t[0],w=a-t[1],L=u-t[2],O=1/Math.sqrt(y*y+w*w+L*L),y*=O,w*=O,L*=O,p=d*L-s*w,g=s*y-c*L,v=c*w-d*y,O=Math.sqrt(p*p+g*g+v*v),O?(O=1/O,p*=O,g*=O,v*=O):(p=0,g=0,v=0),m=w*v-L*g,A=L*p-y*v,x=y*g-w*p,O=Math.sqrt(m*m+A*A+x*x),O?(O=1/O,m*=O,A*=O,x*=O):(m=0,A=0,x=0),o[0]=p,o[1]=m,o[2]=y,o[3]=0,o[4]=g,o[5]=A,o[6]=w,o[7]=0,o[8]=v,o[9]=x,o[10]=L,o[11]=0,o[12]=-(p*i+g*a+v*u),o[13]=-(m*i+A*a+x*u),o[14]=-(y*i+w*a+L*u),o[15]=1,o}function c(e,t,r,n,o){var i=r*Math.tan(e*Math.PI/360),a=i*t,u=2*a,c=2*i,d=n-r;return o[0]=2*r/u,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=2*r/c,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=-(n+r)/d,o[11]=-1,o[12]=0,o[13]=0,o[14]=-(n*r*2)/d,o[15]=0,o}function d(e,t){return t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15],t}function s(e,t){var r=e[0],n=e[1],o=e[2],i=e[3],a=e[4],u=e[5],c=e[6],d=e[7],s=e[8],f=e[9],l=e[10],h=e[11],p=e[12],g=e[13],v=e[14],m=e[15],A=r*u-n*a,x=r*c-o*a,y=r*d-i*a,w=n*c-o*u,L=n*d-i*u,O=o*d-i*c,_=s*g-f*p,G=s*v-l*p,b=s*m-h*p,R=f*v-l*g,M=f*m-h*g,S=l*m-h*v,E=1/(A*S-x*M+y*R+w*b-L*G+O*_);return t[0]=(u*S-c*M+d*R)*E,t[1]=(-n*S+o*M-i*R)*E,t[2]=(g*O-v*L+m*w)*E,t[3]=(-f*O+l*L-h*w)*E,t[4]=(-a*S+c*b-d*G)*E,t[5]=(r*S-o*b+i*G)*E,t[6]=(-p*O+v*y-m*x)*E,t[7]=(s*O-l*y+h*x)*E,t[8]=(a*M-u*b+d*_)*E,t[9]=(-r*M+n*b-i*_)*E,t[10]=(p*L-g*y+m*A)*E,t[11]=(-s*L+f*y-h*A)*E,t[12]=(-a*R+u*G-c*_)*E,t[13]=(r*R-n*G+o*_)*E,t[14]=(-p*w+g*x-v*A)*E,t[15]=(s*w-f*x+l*A)*E,t}return e.Matrix=function(){},e.Matrix.prototype={constructor:e.Matrix,create:t,identity:r,multiply:n,scale:o,translate:i,rotate:a,lookAt:u,perspective:c,transpose:d,inverse:s},e.Matrix}(ALGO),ALGO.ObjectUtil={extend:function(e,t){ALGO.ObjectUtil.clone(e);for(key in t){var r=t[key]?t[key]:e[key];e[key]=r}return e},clone:function(e){var t={};for(key in e)t[key]=e[key];return t}},ALGO.PointUtil={normalize:function(e,t){var r=Math.sqrt(e.x*e.x+e.y*e.y);0!=r&&(e.x=t*e.x/r,e.y=t*e.y/r)},normalize3:function(e,t){var r=Math.sqrt(e.x*e.x+e.y*e.y+e.z*e.z);return 0!=r&&(e.x=t*e.x/r,e.y=t*e.y/r,e.z=t*e.z/r),e},pointLength3:function(e){return Math.sqrt(e.x*e.x+e.y*e.y+e.z*e.z)},getDistance:function(e,t){var r=t.x-e.x,n=t.y-e.y;return Math.sqrt(r*r+n*n)},getSlope:function(e,t){return(t.y-e.y)/(t.x-e.x)},getIntercept:function(e,t,r){var n=e.x+t.x,o=e.y+t.y;return o/2-r*n/2},getMidpoint:function(e,t){var r=[];return r.x=(e.x+t.x)/2,r.y=(e.y+t.y)/2,r},getMidperpendicular:function(e,t){var r=getSlope(e,t);x=checkEQ(r)?1:-1/r;var n=getMidpoint(e,t);return y=checkEQ(r)?0:n.y-x*n.x,{x:x,y:y}},getThroughPoint3:function(e,t,r){var n=getMidperpendicular(e,t),o=getMidperpendicular(e,r),i=[];i.x=(o.y-n.y)/(n.x-o.x),i.y=n.x*i.x+n.y;var a=Math.sqrt(Math.pow(i.x-e.x,2)+Math.pow(i.y-e.y,2));return{x:i.x,y:i.y,rad:a}},getHugeTriangle:function(e,t,r){var n=getThroughPoint3(e,t,r),o=n.x-Math.sqrt(3)*n.rad,i=n.y-n.rad,a=n.x+Math.sqrt(3)*n.rad,u=n.y-n.rad,c=n.x,d=n.y+2*n.rad;return[{x:o,y:i},{x:a,y:u},{x:c,y:d}]},checkEQ:function(e){var t=1e-6;return e>=-t&&t>=e}},ALGO.Render=function(){"use strict";function e(){t(),r()}function t(){}function r(){}function n(e){d=e,s=1e3/d,ALGO.log("setFramerate = "+d)}function o(){return d}function i(){g=!0,s=1e3/d,h=Date.now(),f=h,u()}function a(){g=!1}function u(){if(g&&m(u),l=Date.now(),p=l-h,p>s){h=l-p%s,c.renderer&&c.renderer.update(),c.frame&&c.frame.call(c);{var e=l-f;Math.round(1e3/(e/++v)*100)/100}}}var c,d,s,f,l,h,p,g=!1,v=0,m=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(e,1e3/d)};return ALGO.Render=function(t){c=t,e()},ALGO.Render.prototype={constructor:ALGO.Render,setFramerate:n,getFramerate:o,startRender:i,stopRender:a},ALGO.Render}(),ALGO.Shape=function(){"use strict";function e(){a.matrix=new ALGO.Matrix,a.matrix.create();for(var e=[],t=0;t<a.angles;t++)e[t]={},e[t].x=a.radius*Math.cos(2*t*Math.PI/a.angles-Math.PI/2),e[t].y=a.radius*Math.sin(2*t*Math.PI/a.angles-Math.PI/2);var r=[],n=[],o=ALGO.ColorUtil.hexToRgbNormalize(a.color);for(t=0;t<e.length;t++)r.push(e[t].x),r.push(e[t].y),n.push(o.r),n.push(o.g),n.push(o.b),n.push(a.alpha);a.vertexPosition=r,a.vertexColors=n;var i=[];for(t=1;t<a.angles-1;t++)i.push(0),i.push(t),i.push(t+1);a.index=i}function t(e){a.id||(a.id=ALGO.ShapeCtrl.createID(e.displayObjects,8)),e.displayObjects.push(a.id),e.children.push(a)}function r(e){var t=e.displayObjects.indexOf(id);t>-1&&(e.displayObjects.splice(t,1),e.children.splice(t,1),a=null)}function n(){}function o(e){for(var t=a.vertexColors,r=t.length,n=ALGO.ColorUtil.hexToRgbNormalize(e),o=0;r>o;o+=4)t[o]=n.r,t[o+1]=n.g,t[o+2]=n.b}function i(e){for(var t=a.vertexColors,r=t.length,n=0;r>n;n+=4)t[n+3]=e}var a;return ALGO.Shape=function(t,r,n,o){a=this,a.x=t,a.y=r,a.angles=n,a.radius=o,a.angles_=n,a.radius_=o,e()},ALGO.Shape.prototype={constructor:ALGO.Shape,name:"",type:"shape",id:null,x:0,y:0,width:null,height:null,angles:3,radius:null,alpha:1,visible:!0,color:16777215,scale:1,rotate:0,parent:void 0,matrix:void 0,children:[],geometry:[],vertexPosition:[],vertexColors:[],index:[],scale_:1,radius_:null,color_:16777215,alpha_:1,angle_:3,add:t,remove:r,clone:n,setVertexColor:o,setVertexAlpha:i},ALGO.Shape}(),ALGO.Shape.prototype.__defineGetter__("scale",function(){return this.scale_}),ALGO.Shape.prototype.__defineSetter__("scale",function(e){this.scale_=e}),ALGO.Shape.prototype.__defineGetter__("radius",function(){return this.radius_}),ALGO.Shape.prototype.__defineSetter__("radius",function(e){this.radius_=e}),ALGO.Shape.prototype.__defineGetter__("color",function(){return this.color_}),ALGO.Shape.prototype.__defineSetter__("color",function(e){this.setVertexColor(e),this.color_=e}),ALGO.Shape.prototype.__defineGetter__("alpha",function(){return this.alpha_}),ALGO.Shape.prototype.__defineSetter__("alpha",function(e){this.setVertexAlpha(e),this.alpha_=e}),ALGO.Shape.prototype.__defineGetter__("angle",function(){return this.angle_}),ALGO.Shape.prototype.__defineSetter__("angle",function(e){this.angle_=e}),ALGO.ShapeCtrl={createID:function(e,t){for(var r="abcdefghijklmnopqrstuvwxyz0123456789",n=t?t:12,o="",i=0;n>i;i++){var a=r.length,u=Math.floor(Math.random()*a);o+=r.charAt(u)}return e.indexOf(o)>-1&&arguments.callee(e,t),o}},ALGO.StringUtil={zeroPadding:function(e,t){return(Array(t).join("0")+e).slice(-t)},numComma:function(e){return String(e).replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1,")},separate:function(e){return String(e).replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1,")}},ALGO.Util={getBrowserLang:function(){var e=window.navigator.userAgent.toLowerCase();try{return-1!=e.indexOf("chrome")?(navigator.languages[0]||navigator.browserLanguage||navigator.language||navigator.userLanguage).substr(0,2):(navigator.browserLanguage||navigator.language||navigator.userLanguage).substr(0,2)}catch(t){return void 0}},isSmartDevice:function(){var e=navigator.userAgent,t=!1;return e.indexOf("iPhone")>0&&-1==e.indexOf("iPad")||e.indexOf("iPod")>0||e.indexOf("Android")>0&&e.indexOf("Mobile")>0?t="smartphone":(e.indexOf("iPad")>0||e.indexOf("Android")>0)&&(t="tablet"),t},getOS:function(){var e,t=window.navigator.userAgent.toLowerCase();return e=t.match(/win/)?"win":t.match(/mac|ppc/)?"mac":t.match(/linux/)?"linux":"other"},getBrowser:function(){var e=window.navigator.userAgent.toLowerCase(),t=window.navigator.appVersion.toLowerCase(),r="unknown";return-1!=e.indexOf("msie")?r=-1!=t.indexOf("msie 6.")?"ie6":-1!=t.indexOf("msie 7.")?"ie7":-1!=t.indexOf("msie 8.")?"ie8":-1!=t.indexOf("msie 9.")?"ie9":-1!=t.indexOf("msie 10.")?"ie10":"ie":-1!=e.indexOf("trident/7")?r="ie11":-1!=e.indexOf("chrome")?r="chrome":-1!=e.indexOf("safari")?r="safari":-1!=e.indexOf("opera")?r="opera":-1!=e.indexOf("firefox")&&(r="firefox"),r},isSupported:function(e){for(var t=getBrowser(),r=0;r<e.length;r++)if(e[r]==t)return!0;return!1},getQuery:function(){for(var e=window.location.search.substring(1),t=e.split("&"),r={},n=0;n<t.length;n++){var o=t[n].indexOf("=");if(o>0){var i=t[n].substring(0,o),a=t[n].substring(o+1);r[i]=a}}return r}},ALGO.debug=1,ALGO.BLEND_NONE=0,ALGO.BLEND_ADD=1,ALGO.BLEND_MULTIPLY=2,ALGO.BLEND_SCREEN=3,ALGO.prototype.__defineGetter__("framerate",function(){return this.framerate_}),ALGO.prototype.__defineSetter__("framerate",function(e){this.render&&this.render.setFramerate(e),this.framerate_=e}),ALGO.prototype.width=0,ALGO.prototype.height=0,ALGO.prototype.blendMode=ALGO.BLEND_NONE,ALGO.prototype.backgroundAuto=!0,ALGO.prototype.background=6710886,ALGO.prototype.backgroundAlpha=.5,ALGO.prototype.depth=1,ALGO.prototype.framerate=60,ALGO.prototype.canvas=null,ALGO.prototype.displayObjects=[],ALGO.prototype.children=[],ALGO.WebGLRenderer=function(e){"use strict";function t(e,t){return[2/e,0,0,0,-2/t,0,-1,1,1]}function r(e,t){return[1,0,0,0,1,0,e,t,1]}function n(e){var t=Math.cos(e),r=Math.sin(e);return[t,-r,0,r,t,0,0,0,1]}function o(e,t){return[e,0,0,0,t,0,0,0,1]}function i(e,t){var r=e[0],n=e[1],o=e[2],i=e[3],a=e[4],u=e[5],c=e[6],d=e[7],s=e[8],f=t[0],l=t[1],h=t[2],p=t[3],g=t[4],v=t[5],m=t[6],A=t[7],x=t[8];return[r*f+n*p+o*m,r*l+n*g+o*A,r*h+n*v+o*x,i*f+a*p+u*m,i*l+a*g+u*A,i*h+a*v+u*x,c*f+d*p+s*m,c*l+d*g+s*A,c*h+d*v+s*x]}function a(){for(var e=0,a=[1,1],u=t(T.width,T.height),c=0;c<z.length;c++){var d=z[c],s=d.vertexPosition,f=d.vertexColors,l=[];l.position=v(s),l.color=v(f),A(l,L,O),_=d.index;var h=[];h[0]=m(_),y.bindBuffer(y.ELEMENT_ARRAY_BUFFER,h[0]);{d.matrix}a[0]=d.scale,a[1]=d.scale,e=d.rotate*Math.PI/180;var u=t(T.width,T.height),p=r(d.x,d.y),g=n(e),x=o(a[0],a[1]),w=i(x,g);w=i(w,p),w=i(w,u),y.uniformMatrix3fv(C.matrix,!1,w),y.drawElements(y.TRIANGLES,_.length,y.UNSIGNED_SHORT,0)}y.flush()}function u(){G=T.width,b=T.height,R.identity(M),R.identity(S),R.identity(E),R.identity(F),R.lookAt([0,0,D],[0,0,0],[0,1,0],M),R.perspective(90,T.width/T.height,.01,1e3,S),R.multiply(S,M,E);var e=y.getUniformLocation(w,"u_resolution");y.uniform2f(e,T.width,T.height),y.viewport(0,0,G,b)}function c(){d(x),s(),U&&(f(),l()),h()}function d(e){T=e.canvas,k=e.background,P=e.backgroundAlpha,U=e.backgroundAuto,B=e.depth,z=e.children,N=e.displayObjects}function s(){y.clearDepth(B)}function f(){var t=e.ColorUtil.hexToRgbNormalize(k);y.clearColor(t.r,t.g,t.b,P)}function l(){y.clear(y.COLOR_BUFFER_BIT|y.DEPTH_BUFFER_BIT)}function h(){a()}function p(e){var t,r="";return"vertex"==e?(r="\r\n      attribute vec2 position2d;\r\n      uniform mat3 matrix2d;\r\n      uniform vec2 u_resolution;\r\n      attribute vec4 color;\r\n      varying   vec4 v_color; \r\n      uniform float point_size;\r\n      \r\n      void main(void){\r\n        v_color = color;\r\n        gl_PointSize = point_size;\r\n        \r\n        gl_Position = vec4((matrix2d * vec3(position2d, 1)).xy, 0, 1);\r\n      }",t=y.createShader(y.VERTEX_SHADER)):"fragment"==e&&(r="\r\n      precision mediump float;\r\n      varying vec4 v_color;\r\n      \r\n      void main(void){\r\n        gl_FragColor = v_color;\r\n      }",t=y.createShader(y.FRAGMENT_SHADER)),y.shaderSource(t,r),y.compileShader(t),y.getShaderParameter(t,y.COMPILE_STATUS)?t:void alert(y.getShaderInfoLog(t))}function g(e,t){var r=y.createProgram();return y.attachShader(r,e),y.attachShader(r,t),y.linkProgram(r),y.getProgramParameter(r,y.LINK_STATUS)?(y.useProgram(r),r):void alert(y.getProgramInfoLog(r))}function v(e){var t=y.createBuffer();return y.bindBuffer(y.ARRAY_BUFFER,t),y.bufferData(y.ARRAY_BUFFER,new Float32Array(e),y.STATIC_DRAW),y.bindBuffer(y.ARRAY_BUFFER,null),t}function m(e){var t=y.createBuffer();return y.bindBuffer(y.ELEMENT_ARRAY_BUFFER,t),y.bufferData(y.ELEMENT_ARRAY_BUFFER,new Int16Array(e),y.STATIC_DRAW),y.bindBuffer(y.ELEMENT_ARRAY_BUFFER,null),t}function A(e,t,r){for(var n in e)y.bindBuffer(y.ARRAY_BUFFER,e[n]),y.enableVertexAttribArray(t[n]),y.vertexAttribPointer(t[n],r[n],y.FLOAT,!1,0,0)}var x,y,w,L,O,_,G,b,R,M,S,E,F,C,T,k,P,U,B,z,N,D=5;return e.WebGLRenderer=function(t){x=t,d(x),y=T.getContext("webgl")||T.getContext("experimental-webgl");var r=p("vertex"),n=p("fragment");w=g(r,n),R=new e.Matrix,M=R.identity(R.create()),S=R.identity(R.create()),E=R.identity(R.create()),F=R.identity(R.create()),u(),C={},C.position=y.getUniformLocation(w,"position2d"),C.matrix=y.getUniformLocation(w,"matrix2d"),C.color=y.getUniformLocation(w,"color"),C.point_size=y.getUniformLocation(w,"point_size"),L={},L.position=y.getAttribLocation(w,"position2d"),L.color=y.getAttribLocation(w,"color"),O={},O.position=2,O.color=4,a()},e.WebGLRenderer.prototype={constructor:e.WebGLRenderer,update:c,resize:u},e.WebGLRenderer}(ALGO);